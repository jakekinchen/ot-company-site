---
import DottedPathSVG2 from '../components/DottedPathSVG2.astro';
import PathMaker from '../components/PathMaker.astro';
import DottedPathSVG from '../components/DottedPathSVG.astro';
import AnchorPath from '../components/AnchorPath.astro';
import Layout from '../components/Layout.astro';
import ProfileCircle from '../components/ProfileCircle.astro';
import TeamMember from '../types';
import Initiative from '../types';
import { teamMembers, initiatives } from '../data/pages.json';
const glowDistance = 5;
---

<Layout headerLogoColor='blue' headerIconColor='blue' headerBackground='bg-white' gradient={true} backgroundColorScript={true} initialBackgroundHeight={815}>
  <!-- <div class="your-div-class absolute left-0 right-0 w-screen bg-white h-[715px] -z-10 overflow-visible"></div>-->
  <div class="line-1-container mb:hidden overflow-x-hidden">
    <AnchorPath
      startXDiv="profileCirclesContainer"
      startXDivPosition="right"
      startYDiv="sectionA"
      startYPosition="top"
      startDirection="down"
      firstTurnYDiv="learn-more-button"
      firstTurnYPosition="vCenter"
      firstTurnXDiv={null}
      firstTurnXPosition="hCenter"
      firstTurnDirection="left"
      EndXDiv="initiatives-icon-3"
      EndXPosition="hCenter"
      EndYDiv="initiatives-icon-3"
      EndYPosition="top"
      strokeColor="white"
      strokeWidth={4}
      circleRadius={10}
      circleColor="white"
      uniqueId="line-1"
      edgeAnchor={['startXDiv', 'right']}
      circleGlowColor = "white"
      circleGlowDistance = {glowDistance},
      animationDuration = {40}
    />
        <PathMaker
        startEdge={'left'}
        startY={[`onetier-logo`, 'center']}
        offsetStartY={150}
        offsetEndX={20}
        midpointX={[`sectionAContent`, 'left']}
        endY={[`onetier-logo`, 'center']}
        endX={[`onetier-logo`, 'left']}
        strokeColor="blue"
        circleColor="blue"
        animationDuration={5}
        animationDelay={0}
        uniqueId={`path1`}
        midpointXMinWidth={680}
        glowDistance={glowDistance}
        strokeDasharray="5,5"
        circleRadius={10}
    />
    <PathMaker
        startEdge={'right'}
        startY={[`onetier-logo`, 'center']}
        offsetStartY={-150}
        offsetEndX={-20}
        midpointX={[`sectionAContent`, 'right']}
        endY={[`onetier-logo`, 'center']}
        endX={[`onetier-logo`, 'right']}
        strokeColor="blue"
        circleColor="blue"
        animationDuration={5}
        animationDelay={6}
        reverseAnimation={true}
        uniqueId={`path2`}
        midpointXMinWidth={680}
        glowDistance={glowDistance}
        strokeDasharray="5,5"
    />
       
  </div>
  <div class={`line-2-container dt:hidden overflow-x-hidden`}>
    <DottedPathSVG2
      uniqueId="company-line-3"
      targetDivClass="sectionA"
      strokeWidth={4}
      strokeDasharray="5,5"
      circleRadius={10}
      animationDuration={10}
      glowDistance={glowDistance}
      initialYOffset={15}
      startY={15}
      strokeColor="blue"
      circleColor="blue"
      glowColor={null}
      targetDivXPosition="left"
      targetDivYPosition="top"
      semiRect={false}
      simpleHorizontal={true}
      loopReverse={true}
    />
    <DottedPathSVG2
      uniqueId="company-line-4"
      targetDivClass="learn-more-button"
      strokeWidth={4}
      strokeDasharray="5,5"
      circleRadius={10}
      animationDuration={10}
      glowDistance={glowDistance}
      initialYOffset={0}
      startY={15}
      strokeColor="white"
      circleColor="white"
      glowColor={null}
      targetDivYPosition="center"
      targetDivXPosition='center'
      semiRect={false}
      simpleHorizontal={true}
      loopReverse={true}
    />
    
  </div>
<section id="sectionA" class="sectionA bg-white py-16 text-blue">
  <div id='sectionAContent' class="sectionAContent layoutConstraint">
    <h2 class="text-5xl font-bold text-center mb-4">What Do We Do?</h2>
    <p class="text-center text-xl my-8">
      OneTier delivers our technology products through dedicated channel partners to provide customers the best technology
    </p>
    <div class="relative mb-16">
      <div class="text-center">
        <img id="onetier-logo" src="/ot-logo.svg" alt="OneTier" class="onetier-logo mx-auto filter-dark-blue w-96 mb-8" />
        <p id="sectionADiv2" class="mx-auto">
          OneTier is a Technology Platform Integrator that brings together unique start-ups to create solutions that solve business and technical challenges. This is a long paragraph that should explain how we bring the best we can offer to your businesses through dedication, teamwork, and field expertise.
        </p>
      </div>
    </div>
  </div>
</section>
<div id="profileCirclesSection" class="flex justify-center mt-[-3.8rem]">
  <div id="profileCirclesContainer" class="flex mb:flex-wrap justify-center relative inset-x-0 space-x-10 mx-8">
  {teamMembers.map((member) => (
    <ProfileCircle imageSrc={member.imageSrc} name={member.name} title={member.title} hasBackground={true} backgroundColor='blue' circleWidth={130} />
  ))}
  </div>
</div>
<section id="sectionB" class="sectionB bg-blue-dark-blue-gradient mb-32 relative">
  <div class="text-center mb-16 mt-16">
    <a href="/leadership" id="learn-more-button" class="learn-more-button shadow-lg gradient-button request-demo-button hover:text-white bg-orange text-white font-bold py-3 px-8 rounded-full hover:bg-orange transition duration-300">
      Learn More
    </a>
  </div>
  <div class="text-white p-8 rounded-lg flex flex-col items-center justify-center max-w-4xl mx-auto">
    <h3 class="text-5xl font-bold text-center mb-16 text-white">Initiatives</h3>
    <div class="space-y-16 w-full">
      {initiatives.map((initiative, index) => (
        <div class="flex mb:flex-col mb:justify-items-center mb:text-center items-center">
          <div class="bg-white rounded-full p-3 flex-shrink-0">
            <img
              id={`initiatives-icon-${index+1}`}
              src={initiative.iconSrc}
              alt=""
              class="w-12 h-12 mb:w-24 mb:h-24 mb:p-3 filter-blue"
            />
          </div>
          <p class="text-2xl m-8">{initiative.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

</Layout>
<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
    const sectionAHeight = document.getElementById('sectionA').offsetHeight;
    document.documentElement.style.setProperty('--sectionAHeight', `${sectionAHeight}px`);
    console.log('sectionAHeight', sectionAHeight);
  });

  document.addEventListener('resize', () => {
    const sectionAHeight = document.getElementById('sectionA').offsetHeight;
    document.documentElement.style.setProperty('--sectionAHeight', `${sectionAHeight}px`);
    console.log('sectionAHeight', sectionAHeight);
  });
</script>

<style>
@media (min-width: 960px) { 
}
  


  p {
    font-size: clamp(10px, 7vw + 1rem, 25px );
  }
  .sectionB {
    background: var(--blue-dark-blue-gradient);
  }
  #profileCirclesContainer {
    top: 43%;
    z-index: 10;
  }
</style>

