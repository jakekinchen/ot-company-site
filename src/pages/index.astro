---
import Layout from '../components/Layout.astro';
import CardComponent from '../components/CardComponent.astro';
import ProductSnippet from '../components/ProductSnippet.astro';
import CounterComponent from '../components/react/CounterComponent.jsx';
import { products, clients } from '../data/pages.json';
import DottedPathSVG from '../components/DottedPathSVG.astro';
//import ClientsSection from '../components/react/ClientsSection.jsx';
import Carousel from '../components/Carousel.astro';
if (!clients) {
  throw new Error('Client info not found');
}
---

<Layout customBackground={true} gradient="true" backgroundColorScript="true" navWidth={70}>
  <div class="mb:hidden">
    <DottedPathSVG
      uniqueId='line-2'
      targetDivClass="main-content"
      strokeWidth={4}
      strokeDasharray="5,5"
      circleRadius={10}
      animationDuration={10}
      glowDistance={2.5}
      initialYOffset={20}
      startY={725}
      strokeColor="white"
      circleColor="white"
      glowColor={null}
      targetDivXPosition="center"
      targetDivYPosition="center"
      flipped={true}
      semiRect={true}
      height={775}
      loopReverse={true}
      />
  </div>
  <div class="main-content justify-center dt:w-[75%] dt:ml-[12.5%] w-[90%] ml-[5%]">
    <div class="max-w-full min-w-[85%] w-[60rem] leading-snug text-left text-wrap text-blue mt-[6vw] mb-[calc(24px+4vw)] space-y-[2.5vw]">
      <h1 class="text-[calc(3vw+3rem)]  break-words w-full font-medium">
          OneTier's AnyCloud Data Secure Portfolio
      </h1>
      
      <button class="gradient-button request-demo-button !text-base">
          More Information
      </button>
    </div>
    <div id="cards" class="flex gap-8 justify-end my-[12vh] mb:hidden">
      <CardComponent
        title="Digital Fight Club"
        subtitle="Thursday, June 26th"
        glassmorphism="true"
        route="/events"
      />
      <CardComponent
        title="Product Highlight"
        subtitle="Risk Engagement"
        glassmorphism="true"
        route="/products/risk-engagement"
      />
    </div>
    <div class="flex flex-col items-center justify-center min-h-[40vw] text-white py-4">
      <div class="pane backdrop-filter backdrop-blur-lg rounded-3xl text-center mb-8 space-y-[10px] w-[75%] py-4 mb:w-full ">
        <p class="text-[calc(16px+1vw)]">
          Cybersecurity threats are slated to cost the world
        </p>
        <CounterComponent 
          targetNumber={10500000000000} 
          duration={3000} 
          emphasize={true} 
          client:visible 
        />
        <p class="text-[calc(16px+1vw)]">
          by 2025
        </p>
      </div>
      <div class="z-10 pane backdrop-filter backdrop-blur-lg rounded-3xl p-[calc(10px+2vw)] text-center w-[75%] mx-[calc(10px+2vw)] my-[calc(10px+2vw)] mb:w-full">
        <h2 class="text-[calc(12px+4vw)] font-bold mb-4 text-white">
          From Zero to Trust
        </h2>
        <p class="text-3xl">
          Hereâ€™s how we keep you safe.
        </p>
      </div>
    </div>
    <div class="mt-[8vw] flex flex-col gap-8 dt:gap-16 mb:w-full">
      {products.map((product: any, index: number) => (
        <ProductSnippet
          key={product.href}
          iconSrc={product.iconSrc}
          productName={product.label}
          title={product.title}
          subtitle={product.subtitle}
          url={product.href}
          justify={index % 2 === 0 ? 'left' : 'right'}
        />
      ))}
    </div>
    <div class="mt-16 relative w-screen left-1/2 right-1/2 -mx-[50vw]">
      <div class="bg-white">
        <section class="bg-white w-full py-8 mb:py-4">
          <div class="w-full max-w-screen-lg mx-auto px-4">
            <p class="text-center text-5xl mb:text-3xl text-blue font-bold mb-8 mb:mb-4">Our Clients</p>
            <div class="logo-container w-full">
              <Carousel clients={clients} scale={1.5} speed={45} />
            </div>
            </section>
      </div>
    </div>
    <div class="flex items-center justify-center my-16 mb:my-[2vh] mb:space-x-8">
      <!-- glassmorphic background with padding -->
      <div class="grid grid-cols-1 dt:grid-cols-2 gap-8 dt:gap-16 items-center justify-items-center dt:glassmorphic-bg bg-opacity-20 backdrop-filter backdrop-blur-lg rounded-lg w-full max-w-[calc(60vw+200px)] p-8">
        <div class="flex flex-col items-center justify-between w-full max-w-[350px] h-full">
          <p class="text-white text-lg md:text-xl dt:text-2xl mb-4 text-center">Learn about the OneTier Partner Program</p>
          <a href="/" class="bg-white text-blue font-bold py-3 px-6 rounded-full hover:bg-cold-white w-full max-w-[250px] h-[50px] flex items-center justify-center text-base md:text-lg dt:text-xl">Partners</a>
        </div>
        <div class="flex flex-col items-center justify-between w-full max-w-[350px] h-full">
          <p class="text-white text-lg md:text-xl dt:text-2xl mb-4 text-center">Join our Newsletter on LinkedIn</p>
          <a href="/" class="bg-white text-blue font-bold py-3 px-6 rounded-full hover:bg-cold-white w-full max-w-[250px] h-[50px] flex items-center justify-center text-base md:text-lg dt:text-xl">Subscribe</a>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
:root {
    --filter-half-blue: rgba(16, 121, 208, .3); /* Semi-transparent blue */
}

html, body {
  overflow-x: hidden;
}

.glassmorphic-bg {
    background: rgba(255, 255, 255, 0.2);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

.pane {
    background-color: var(--filter-half-blue);
    backdrop-filter: 'blur(10px)';
}
</style>