---
let { theme = "blue", gradient = false, background = 'blue', phone } = Astro.props;
let textColor, bgColor, logoColor, iconColor;
if (theme == 'blue'){
    textColor = 'text-white';
    bgColor = 'bg-blue';
    logoColor = 'filter-white';
    iconColor = 'filter-white';
} else if (theme == 'dark-blue'){
    textColor = 'text-white';
    bgColor = 'bg-dark-blue';
    logoColor = 'filter-white';
    iconColor = 'filter-white';
} else if (theme == 'white'){
    textColor = 'text-dark-blue';
    bgColor = 'bg-white';
    logoColor = 'filter-dark-blue';
    iconColor = 'filter-dark-blue';
}else{
    textColor = 'text-dark-blue';
    bgColor = 'bg-white';
    logoColor = 'filter-dark-blue';
    iconColor = 'filter-dark-blue';
}
if (background == 'transparent'){
    bgColor = 'bg-opacity-0';
}
const today = new Date();
---

<footer class={`${bgColor} flex flex-col justify-center pt-4 pb-2 `}>
    <div class="layoutConstraint">
    <div class=" flex justify-between items-center ">
        <div class="text-left">
            <a class="block w-full cursor-pointer" href="/">
                <img src={gradient ? "/ot-gradient-logo.svg" : "/ot-logo.svg"} alt="OneTier Logo" class={`${gradient ? "" : logoColor} cursor-pointer`} />
            </a>
            
            <p class={`${textColor} py-2`}>Security From Zero to Trust</p>
            {phone && (
              <p class={`${textColor} py-1 font-semibold`}>{phone}</p>
            )}
        </div>
            <ul class="grid grid-cols-2 gap-4 mb:gap-2 p-2 m-0 text-right">
                <a href="#" id="footerRequestDemo" class={`${textColor} no-underline hover:underline cursor-pointer`}>Request Demo</a>
                <a href="/company" class={`${textColor} no-underline hover:underline w-full`}>Company</a>
                <a href="/#risk-engagement-container" class={`${textColor} no-underline hover:underline`}>Products</a>
                <a href="/solutions" class={`${textColor} no-underline hover:underline`}>Solutions</a>
            </ul>
    </div>
    <div class="flex justify-between items-center ">
        <p class={`${textColor} footer-left pr-4 m-0 min-w-6 `}>Â© {today.getFullYear()} OneTier. All rights reserved.</p>
        <div class="social-links footer-right">
            <ul class="social-grid">
                
                    <a href="https://www.instagram.com/onetiercorp/" class={iconColor + ""}>
                        <img src="/social-media-icons/instagram.svg" alt="Instagram" />
                    </a>
               
                
                    <a href="https://x.com/OneTier_Corp" class={iconColor}>
                        <img src="/social-media-icons/x.svg" alt="X" />
                    </a>
                
               
                    <a href="https://www.facebook.com/OneTierCorporationrs" class={iconColor}>
                        <img src="/social-media-icons/facebook.svg" alt="Facebook" />
                    </a>
               
                    <a href="https://www.linkedin.com/company/1tier/" class={iconColor}>
                        <img src="/social-media-icons/linkedin.svg" alt="LinkedIn" />
                    </a>
               
            </ul>
        </div>
        
    </div>
</div>
</footer>
<style>
    footer {
        flex-shrink: 0;
        position: relative;
        width: 100%;
    }
    
    .social-links img {
        border-radius: 0;
        width: 1.50rem;
        height: 1.50rem;
        
    }
    .social-links .social-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
}

.social-links .social-grid li {
    list-style: none;

}

.social-links .social-grid a {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 2rem;
}

.social-links .social-grid img {
    width: 100%;
    
    
}

@media (max-width: 600px) {
    .social-links .social-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
    }
}
    @media (max-width: 768px) {
        .social-links img{
            width: 1.5em;
            height: 1.5em;
            min-width: 30px;
            
        }
        
    }
</style>
<script>
  // Attach handler immediately so it works even if DOMContentLoaded has fired
  (() => {
    const footerRequestDemo = document.getElementById('footerRequestDemo');
    if (footerRequestDemo) {
      footerRequestDemo.addEventListener('click', (e) => {
        e.preventDefault();
        openDialog();
      });
    }
  })();

  function openDialog() {
    window.dispatchEvent(new CustomEvent('openDialog'));
  }

  // Smooth-scroll for in-page anchors
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(this: HTMLAnchorElement, e: Event) {
      e.preventDefault();

      const targetId = this.getAttribute('href')?.substring(1);
      if (targetId) {
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }
    });
  });
</script>
